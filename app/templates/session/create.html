{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/multi-select/0.9.12/css/multi-select.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css">
{% endblock %}

{% block scripts %}
{{ super() }}
<script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/multi-select/0.9.12/js/jquery.multi-select.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>

<script>
var tb = ["bold", "italic", "heading-1", "heading-2", "heading-3", "|", "quote", "unordered-list", "ordered-list", "|", "link", "image", "table", "horizontal-rule", "|", "side-by-side", "fullscreen", "guide"]

var simplemde = new SimpleMDE({
    element: document.getElementById("summary"),
    toolbar: tb,
    spellChecker: false,
    status: false
});

var simplemde2 = new SimpleMDE({
    element: document.getElementById("dm_notes"),
    toolbar: tb,
    spellChecker: false,
    status: false
});

$("#participants").multiSelect( { keepOrder: true, selectableHeader: "Available", selectionHeader: "Participants", cssClass: "partymember-select", selectableOptgroup: true });

moment.updateLocale('en', {
    week: { dow: 1 }
});

$("#date").wrap('<div class="input-group date" id="datetimepicker"></div>');
iga = $("<span/>").addClass("input-group-addon");
$("<span/>").addClass("glyphicon glyphicon-calendar").appendTo(iga);
iga.appendTo($("#datetimepicker"));

$(function() {
    $("#datetimepicker").datetimepicker({
        format: "YYYY-MM-DD HH:mm"
    })
});
</script>
{% endblock %}

{% block app_content %}
    <h1>Create new session</h1>

    {{ wtf.quick_form(form) }}
{% endblock %}